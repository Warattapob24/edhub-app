{% extends "base.html" %}

{% block content %}
<div class="d-flex justify-content-between align-items-center mb-3">
    <h1>Teacher Dashboard</h1>
</div>
<p>ยินดีต้อนรับ, <strong>{{ current_user.full_name }}</strong>!</p>
<hr>
<h3>รายวิชาที่ได้รับมอบหมาย</h3>

<div class="list-group">
    {% for section in sections %}
    <a href="{{ url_for('teacher.manage_learning_plan', section_id=section.id) }}" class="list-group-item list-group-item-action">
        <div class="d-flex w-100 justify-content-between">
            <h5 class="mb-1">{{ section.course.course_code }} - {{ section.course.name_thai }}</h5>
            <small>{{ section.course.grade_level.name }}</small>
        </div>
        <p class="mb-1">ภาคเรียนที่ {{ section.academic_year.semester }}/{{ section.academic_year.year }}</p>
        <small>{{ section.course.credits }} หน่วยกิต | {{ (section.course.credits * 2 * section.classrooms|length)|int }} คาบ/สัปดาห์</small>
        <small class="text-primary">คลิกเพื่อวางแผนการสอน <i class="bi bi-arrow-right-circle"></i></small>
    </a>
    {% else %}
    <div class="alert alert-info" role="alert">
      คุณยังไม่ได้รับมอบหมายรายวิชาสำหรับปีการศึกษานี้
    </div>
    {% endfor %}
</div>

{% endblock %}